////////////////////////////////////////////////////////////////////////////////
//       _________________________________________ ___ ___ ___
//      /  ___      ___  ________ ___ ___        /   /   /   /
//     /  /   |   /  __|/__   __//  //   | (R)  /___/___/___/
//    /  / /| | /  /      /  /  /  // /| |     /   /   /   /
//   /  / __  |(  (___   /  /  /  // __  |    /___/___/___/
//  /  /_/  |_| \_____| /__/  /__//_/  |_|   /   /   /   /
// /________________________________________/___/___/___/
//----------------------------------------------------------------------------
// HEAD : (c) ACTIA Automotive 2015 : " Any copy and re-use of this
//        file without the written consent of ACTIA is forbidden "
//        --------------------------------------------------------------------
//        Classification :  (-)No   (-)Confident. ACTIA   (-)Confident. Client
//        --------------------------------------------------------------------
//        TEST_APP : MONITOR API Validation Application 
////////////////////////////////////////////////////////////////////////////////
// FILE : test_app.c (SOURCE)
//----------------------------------------------------------------------------
// DESC : MONITOR API Validation Application : handles execution and results
//----------------------------------------------------------------------------
// HIST :
// Version 		:$Revision: 805 $
// Url			:$HeadURL: https://forge2.actia.fr/bgse/8153_92_multic_s/trunk/PROJECTS/Multic-S_WORKSHOP/Multic-S_Straton/Sources/APP/CORE/test_app/test_app.c $
// Updated the :$Date: 2015-07-31 01:47:28 +0800 (周五, 31 七月 2015) $
// By 			:$Author: pcouronn $
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// INCLIB
////////////////////////////////////////////////////////////////////////////////
#include "std_type.h"
#include "monitor.h"
#include "test_app.h"
#include "test_J1939.h"
#include "..\..\API_WRAPPER\api_wrapper.h"

////////////////////////////////////////////////////////////////////////////////
// INCUSER
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// DEFINITION
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// MACRO
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// TYPEDEF
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// PROTO
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// CONST
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// INTERN
////////////////////////////////////////////////////////////////////////////////

//##############################################################
// Test PCou
TU8 	u8Test_iLED1_Cmd;
TU8 	u8Test_iLED3_Cmd;
TU16	u16PreviousTimeBase;
//##############################################################

////////////////////////////////////////////////////////////////////////////////
// CODE
////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////
// Functions (Intern)
//////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////
// Functions (Exported)
//////////////////////////////////////////////////////////////////////////////

//============================================================================//
// NAME : vTest_eInit_Hook
//============================================================================//
// ROLE : ???
//----------------------------------------------------------------------------//
// INPUT  :
// OUTPUT :
//============================================================================//
void vTest_eInit_Hook(void)
{
	(void)initsct();
   vT5_J1939_Init();
/*	
	//##############################################################
	// Test PCou
	//u8Test_iLED1_Cmd = 0; initialised by initsct()
	//u8Test_iLED3_Cmd = 0; initialised by initsct()
	u16PreviousTimeBase = DpstWZed_eVMDataExchange->u16TimeBase;
	//##############################################################
*/	
}

//============================================================================//
// NAME : vTest_eAppMain_Task
//============================================================================//
// ROLE : Test task 
//----------------------------------------------------------------------------//
// INPUT  :
// OUTPUT :
//============================================================================//
void vTest_eAppMain_Task(void)
{
   vT5_J1939_exe();
/*   
	//##############################################################
	// Test PCou
	TS32	s32RetVal;
	
	// test to call a MONITOR function 
	u8Test_iLED1_Cmd ^= 1;
	s32RetVal = DstWMonitor_eApplication_Function.pfSetVal_Exe(Ceu16WMonitor_eLED20AA, u8Test_iLED1_Cmd);
	
	// test to exchange data through ZED memory area
	DpstWZed_eVMDataExchange->u16CyclePer+=1;
	if(u16PreviousTimeBase != DpstWZed_eVMDataExchange->u16TimeBase)
	{
		u8Test_iLED3_Cmd ^= 1;		
	}
	else{}		
	u16PreviousTimeBase = DpstWZed_eVMDataExchange->u16TimeBase;
	s32RetVal = DstWMonitor_eApplication_Function.pfSetVal_Exe(Ceu16WMonitor_eLED20CA, u8Test_iLED3_Cmd);
	//##############################################################
*/
}

////////////////////////////////////////////////////////////////////////////////
