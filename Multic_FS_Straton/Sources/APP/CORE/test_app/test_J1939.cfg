////////////////////////////////////////////////////////////////////////////////
//       _________________________________________ ___ ___ ___
//      /  ___      ___  ________ ___ ___        /   /   /   /
//     /  /   |   /  __|/__   __//  //   | (R)  /___/___/___/
//    /  / /| | /  /      /  /  /  // /| |     /   /   /   /
//   /  / __  |(  (___   /  /  /  // __  |    /___/___/___/
//  /  /_/  |_| \_____| /__/  /__//_/  |_|   /   /   /   /
// /________________________________________/___/___/___/
//----------------------------------------------------------------------------
// HEAD : (c) ACTIA Automotive 2015 : " Any copy and re-use of this
//        file without the written consent of ACTIA is forbidden "
//        --------------------------------------------------------------------
//        Classification :  (-)No   (-)Confident. ACTIA   (-)Confident. Client
//        --------------------------------------------------------------------
//        test_J1939 : J1939 test application
////////////////////////////////////////////////////////////////////////////////
// FILE : test_J1939.cfg (CONFIG)
//----------------------------------------------------------------------------
// DESC : J1939 test application 
//----------------------------------------------------------------------------
// HIST :
// Version 		:$Revision: 772 $
// Url			:$HeadURL: https://forge2.actia.fr/bgse/8153_92_multic_s/trunk/PROJECTS/Multic-S_WORKSHOP/Multic-S_Straton/Sources/APP/CORE/VM/custom/T5ACTIA.c $
// Updated the :$Date: 2015-07-22 14:16:15 +0200 (mer., 22 juil. 2015) $
// By 			:$Author: ssprung $
////////////////////////////////////////////////////////////////////////////////
/* test_J1939.cfg */

#ifndef test_J1939_CFG_INCLUDE
#define test_J1939_CFG_INCLUDE

#define Du8AMain_iNbOfInstance	3
#define Du8AMain_iCycTxPGNSize	8  //if > 8 bytes be careful that broadcast multipacket have 50ms interval !
#define Du8AMain_iCycRxPGNSize	18
#define Du8AMain_iReqPGNSize	10  //if > 8 bytes be careful that broadcast multipacket have 50ms interval !

//----------------------------------------------------------------------------     
// RESET                                                      
//----------------------------------------------------------------------------     
//Transmission Repetition Rate: When needed
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 222
//PDU Specific: DA
//Default Priority: 7
//Parameter Group Number: 56832 ( 00DE00 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1.1 2 bits Trip Group 1 988
//1.3 2 bits Trip Group 2 - Proprietary 989
//2 1 byte Service Component Identification 1584
//3.1 2 bits Engine Build Hours Reset 1211
//NOTE: This message requires an Acknowledgement response (See J1939-21, PGN 59392) from the receiving node. The use of
//individual proprietary protocols can still be used instead of the "trip reset" PGN to maintain security.
#define Du16PGN_eRESET					0xDE00
                                 	
#define Du8PGN_eTripGroup1Pos			0
#define Du8PGN_eTripGroup1BitPos		0
#define Du8PGN_eTripGroup1BitMask	0x03
                                 	
#define Du8PGN_eTripGroup2Pos			0
#define Du8PGN_eTripGroup2BitPos		2
#define Du8PGN_eTripGroup2BitMask	0x03
                                 	
#define Du8PGN_eServicePos				1
#define Du8PGN_eEngineHourPos			2

//----------------------------------------------------------------------------  
// EEC1 Electronic Engine Controller 1                                                   
//----------------------------------------------------------------------------  
//Transmission Repetition Rate: engine speed dependent
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 240
//PDU Specific: 4
//Default Priority: 3
//Parameter Group Number: 61444 ( 00F004 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1.1 4 bits Engine Torque Mode 899
//2 1 byte Driver's Demand Engine - Percent Torque 512
//3 1 byte Actual Engine - Percent Torque 513
//4-5 2 bytes Engine Speed 190
//6 1 byte Source Address of Controlling Device for Engine Control 1483
//7.1 4 bits Engine Starter Mode 1675
//8 1 byte Engine Demand - Percent Torque 2432
//Engine related parameters
#define Du16PGN_eEEC1					0xF004
                                 	
#define Du8PGN_eEngTorquePos			0
#define Du8PGN_eEngTorqueBitPos		0
#define Du8PGN_eEngTorqueBitMask		0x0F
                               	
#define Du8PGN_eDriverDmdTorquePos	1
#define Du8PGN_eActualTorquePos		2
#define Du8PGN_eEngSpeedPos			3
#define Du8PGN_eSAEngCtrlPos			5
          
#define Du8PGN_eEngStarterPos			0   
#define Du8PGN_eEngStarterBitPos		0   
#define Du8PGN_eEngStarterBitMask	0x0F

#define Du16PGN_eEngDemandePos		7

//----------------------------------------------------------------------------   
//EEC2 - Electronic Engine Controller 2
//----------------------------------------------------------------------------   
//Transmission Repetition Rate: 50 ms
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 240
//PDU Specific: 3
//Default Priority: 3
//Parameter Group Number: 61443 ( 00F003 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1.1 2 bits Accelerator Pedal 1 Low Idle Switch 558
//1.3 2 bits Accelerator Pedal Kickdown Switch 559
//1.5 2 bits Road Speed Limit Status 1437
//2 1 byte Accelerator Pedal Position 1 91
//3 1 byte Percent Load At Current Speed 92
//4 1 byte Remote Accelerator Pedal Position 974
#define Du16PGN_eEEC2					0xF003
                                 	
#define Du8PGN_eAccPedalIdleSwPos	0
#define Du8PGN_eAccPedalIdleBitPos	0
#define Du8PGN_eAccPedalIdleBitMask	0x03
 
#define Du8PGN_eAccPedalKickSwPos	0     
#define Du8PGN_eAccPedalKickBitPos	2     
#define Du8PGN_eAccPedalKickBitMask	0x03   
 
#define Du8PGN_eSpeedLimStatPos		0       
#define Du8PGN_eSpeedLimStatBitPos	2       
#define Du8PGN_eSpeedLimStatBitMask	0x03    
                                	
#define Du8PGN_eAccPedal1Pos			1
#define Du8PGN_ePrecentLoadPos		2
#define Du8PGN_eRemoteAccPedalPos	3


//----------------------------------------------------------------------------   
//BJM1 - Basic Joystick Message 1 
//----------------------------------------------------------------------------   
//Transmission Repetition Rate: 100 ms or on change, not to exceed 20 ms
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 253
//PDU Specific: 214
//Default Priority: 3
//Parameter Group Number: 64982 ( 00FDD6 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1.1 2 bits Joystick 1 X-Axis Neutral Position Status 2675
//1.3 2 bits Joystick 1 X-Axis Lever Left Negative Position Status 2670
//1.5 2 bits Joystick 1 X-Axis Lever Right Positive Position Status 2665
//1.7-2 10 bits Joystick 1 X-Axis Position 2660
//3.1 2 bits Joystick 1 Y-Axis Neutral Position Status 2676
//3.3 2 bits Joystick 1 Y-Axis Lever Back Negative Position Status 2671
//3.5 2 bits Joystick 1 Y-Axis Lever Forward Positive Position Status 2666
//3.7-4 10 bits Joystick 1 Y-Axis Position 2661
//5.5 2 bits Joystick 1 Y-Axis Detent Position Status 2681
//5.7 2 bits Joystick 1 X-Axis Detent Position Status 2680
//6.1 2 bits Joystick 1 Button 4 Pressed Status 2688
//6.3 2 bits Joystick 1 Button 3 Pressed Status 2687
//6.5 2 bits Joystick 1 Button 2 Pressed Status 2686
//6.7 2 bits Joystick 1 Button 1 Pressed Status 2685
//7.1 2 bits Joystick 1 Button 8 Pressed Status 2692
//7.3 2 bits Joystick 1 Button 7 Pressed Status 2691
//7.5 2 bits Joystick 1 Button 6 Pressed Status 2690
//7.7 2 bits Joystick 1 Button 5 Pressed Status 2689
//8.1 2 bits Joystick 1 Button 12 Pressed Status 2696
//8.3 2 bits Joystick 1 Button 11 Pressed Status 2695
//8.5 2 bits Joystick 1 Button 10 Pressed Status 2694
//8.7 2 bits Joystick 1 Button 9 Pressed Status 2693
//Used to transfer information about the measured status of the 1st 2 axes and up to 12 buttons of a joystick. Additional handle
//information is available in the Expanded Joystick Message.
//10-bit position parameters are broadcast over 2 bytes. The eight most significant bits are transmitted in the second byte, with the
//most significant bit at bit 8. The two least significant bits are transmitted in the first byte in bit positions 7 and 8, with the most
//significant of the two bits at bit 8.
//10-bit position SPN Location in PGN
//Bit 10 Byte n Bit 8
//Bit 9 Bit 7
//Bit 8 Bit 6
//Bit 7 Bit 5
//Bit 6 Bit 4
//Bit 5 Bit 3
//Bit 4 Bit 2
//Bit 3 Bit 1
//Bit 2 Byte (n-1) Bit 8
//Bit 1 Byte (n-1) Bit 7
#define Du16PGN_eBJM1					0xFDD6
                                 	
#define Du8PGN_eJ1XNeutralPos			0
#define Du8PGN_eJ1XNeutralBitPos		0
#define Du8PGN_eJ1XNeutralBitMask	0x03

#define Du8PGN_eJ1XNegLeftPos			0
#define Du8PGN_eJ1XNegLeftBitPos		2
#define Du8PGN_eJ1XNegLeftBitMask	0x03 

#define Du8PGN_eJ1XPosRightPos		0    
#define Du8PGN_eJ1XPosRightBitPos	4    
#define Du8PGN_eJ1XPosRightBitMask	0x03 

#define Du8PGN_eJ1XPosValPosaa		0    
#define Du8PGN_eJ1XPosValBitPos		6    
#define Du8PGN_eJ1XPosValBitMask		0x03FF  


#define Du8PGN_eJ1YNeutralPos			2       
#define Du8PGN_eJ1YNeutralBitPos		0       
#define Du8PGN_eJ1YNeutralBitMask	0x03    
                                            
#define Du8PGN_eJ1YNegBackPos			2       
#define Du8PGN_eJ1YNegBackBitPos		2       
#define Du8PGN_eJ1YNegBackBitMask	0x03    
                                            
#define Du8PGN_eJ1YFPosFwdPos			2       
#define Du8PGN_eJ1YPosFwdBitPos		4       
#define Du8PGN_eJ1YPosFwdBitMask		0x03    
                                            
#define Du8PGN_eJ1XPosValPos			2       
#define Du8PGN_eJ1XPosValBitPos		6       
#define Du16PGN_eJ1XPosValBitMask	0x03FF  

#define Du8PGN_eJ1XDetentPos			4       
#define Du8PGN_eJ1XDetentBitPos		4       
#define Du8PGN_eJ1XDetentBitMask		0x03    

#define Du8PGN_eJ1YDetentPos			4    
#define Du8PGN_eJ1YDetentBitPos		6    
#define Du8PGN_eJ1YDetentBitMask		0x03 
                                	
#define Du8PGN_eJ1Button4Pos			5     
#define Du8PGN_eJ1Button4BitPos		0     
#define Du8PGN_eJ1Button4BitMask		0x03  

#define Du8PGN_eJ1Button3Pos			5     
#define Du8PGN_eJ1Button3BitPos		2     
#define Du8PGN_eJ1Button3BitMask		0x03 

#define Du8PGN_eJ1Button2Pos			5     
#define Du8PGN_eJ1Button2BitPos		4     
#define Du8PGN_eJ1Button2BitMask		0x03  

#define Du8PGN_eJ1Button1Pos			5     
#define Du8PGN_eJ1Button1BitPos		6     
#define Du8PGN_eJ1Button1BitMask		0x03  

#define Du8PGN_eJ1Button8Pos			6     
#define Du8PGN_eJ1Button8BitPos		0     
#define Du8PGN_eJ1Button8BitMask		0x03  

#define Du8PGN_eJ1Button7Pos			6     
#define Du8PGN_eJ1Button7BitPos		2     
#define Du8PGN_eJ1Button7BitMask		0x03 

#define Du8PGN_eJ1Button6Pos			6     
#define Du8PGN_eJ1Button6BitPos		4     
#define Du8PGN_eJ1Button6BitMask		0x03  

#define Du8PGN_eJ1Button5Pos			6     
#define Du8PGN_eJ1Button5BitPos		6     
#define Du8PGN_eJ1Button5BitMask		0x03  

#define Du8PGN_eJ1Button12Pos			7    
#define Du8PGN_eJ1Button12BitPos		0     
#define Du8PGN_eJ1Button12BitMask	0x03  

#define Du8PGN_eJ1Button11Pos			7    
#define Du8PGN_eJ1Button11BitPos		2     
#define Du8PGN_eJ1Button11BitMask	0x03 

#define Du8PGN_eJ1Button10Pos			7     
#define Du8PGN_eJ1Button10BitPos		4     
#define Du8PGN_eJ1Button10BitMask	0x03  

#define Du8PGN_eJ1Button9Pos			7     
#define Du8PGN_eJ1Button9BitPos		6     
#define Du8PGN_eJ1Button9BitMask		0x03  


 
//----------------------------------------------------------------------------   
//EJM1 - Extended Joystick Message 1
//----------------------------------------------------------------------------   
//Transmission Repetition Rate: 100 ms or on change, not to exceed 20 ms
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 253
//PDU Specific: 215
//Default Priority: 3
//Parameter Group Number: 64983 ( 00FDD7 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1.1 2 bits Joystick 1 Grip X-Axis Neutral Position Status 2677
//1.3 2 bits Joystick 1 Grip X-Axis Lever Left Negative Position Status 2672
//1.5 2 bits Joystick 1 Grip X-Axis Lever Right Positive Position Status 2667
//1.7-2 10 bits Joystick 1 Grip X-Axis Position 2662
//3.1 2 bits Joystick 1 Grip Y-Axis Neutral Position Status 2678
//3.3 2 bits Joystick 1 Grip Y-Axis Lever Back Negative Position Status 2673
//3.5 2 bits Joystick 1 Grip Y-Axis Lever Forward Positive Position Status 2668
//3.7-4 10 bits Joystick 1 Grip Y-Axis Position 2663
//5.1 2 bits Joystick 1 Theta-Axis Neutral Position Status 2679
//5.3 2 bits Joystick 1 Theta-Axis Counter Clockwise Negative Position Status 2674
//5.5 2 bits Joystick 1 Theta-Axis Clockwise Positive Position Status 2669
//5.7-6 10 bits Joystick 1 Theta-Axis Position 2664
//7.3 2 bits Joystick 1 Theta-Axis Detent Position Status 2684
//7.5 2 bits Joystick 1 Grip Y-Axis Detent Position Status 2683
//7.7 2 bits Joystick 1 Grip X-Axis Detent Position Status 2682
//Used to transfer information about the measured status of three additional axes of a joystick and switches of the joystick grip or
//handle. The joystick axial motion information is available in the Basic Joystick Message.
//10-bit position parameters are broadcast over 2 bytes. The eight most significant bits are transmitted in the second byte, with the
//most significant bit at bit 8. The two least significant bits are transmitted in the first byte in bit positions 7 and 8, with the most
//significant of the two bits at bit 8.
//10-bit position SPN Location in PGN
//Bit 10 Byte n Bit 8
//Bit 9 Bit 7
//Bit 8 Bit 6
//Bit 7 Bit 5
//Bit 6 Bit 4
//Bit 5 Bit 3
//Bit 4 Bit 2
//Bit 3 Bit 1
//Bit 2 Byte (n-1) Bit 8
//Bit 1 Bit 7
//Note: The term Grip used here simply refers to another set of axes separate from the previously mentioned X and Y Axis. This
//additional set of axes could in some cases be grip mounted sensors as opposed to the sensors mounted at the base of the handle.
#define Du16PGN_eEJM1					0xFDD7
                                 	
#define Du8PGN_eJ1XGNeutralPos		0
#define Du8PGN_eJ1XGNeutralBitPos	0
#define Du8PGN_eJ1XGNeutralBitMask	0x03

#define Du8PGN_eJ1XNGegLeftPos		0
#define Du8PGN_eJ1XNGegLeftBitPos	2
#define Du8PGN_eJ1XNGegLeftBitMask	0x03 

#define Du8PGN_eJ1XGPosRightPos		0    
#define Du8PGN_eJ1XGPosRightBitPos	4    
#define Du8PGN_eJ1XGPosRightBitMask	0x03 

#define Du8PGN_eJ1XGPosValPos			0    
#define Du8PGN_eJ1XGPosValBitPos		6    
#define Du16PGN_eJ1XGPosValBitMask	0x03FF  


#define Du8PGN_eJ1YGNeutralPos		2       
#define Du8PGN_eJ1YGNeutralBitPos	0       
#define Du8PGN_eJ1YGNeutralBitMask	0x03    
                                            
#define Du8PGN_eJ1YGNegBackPos		2       
#define Du8PGN_eJ1YGNegBackBitPos	2       
#define Du8PGN_eJ1YGNegBackBitMask	0x03    
                                            
#define Du8PGN_eJ1YGFPosFwdPos		2       
#define Du8PGN_eJ1YGPosFwdBitPos		4       
#define Du8PGN_eJ1YGPosFwdBitMask	0x03    
                                            
#define Du8PGN_eJ1YGPosValPos			0       
#define Du8PGN_eJ1YGPosValBitPos		6       
#define Du16PGN_eJ1YGPosValBitMask	0x03FF  


#define Du8PGN_eJ1ThNeutralPos		4       
#define Du8PGN_eJ1ThNeutralBitPos	0       
#define Du8PGN_eJ1ThNeutralBitMask	0x03    
                                            
#define Du8PGN_eJ1ThNegBackPos		4       
#define Du8PGN_eJ1ThNegBackBitPos	2       
#define Du8PGN_eJ1ThNegBackBitMask	0x03    
                                            
#define Du8PGN_eJ1ThFPosFwdPos		4       
#define Du8PGN_eJ1ThPosFwdBitPos		4       
#define Du8PGN_eJ1ThPosFwdBitMask	0x03    
                                            
#define Du8PGN_eJ1ThPosValPos			4       
#define Du8PGN_eJ1ThPosValBitPos		6       
#define Du16PGN_eJ1ThPosValBitMask	0x03FF  

#define Du8PGN_eJ1ThDetentPos			6    
#define Du8PGN_eJ1ThDetentBitPos		2     
#define Du8PGN_eJ1ThDetentBitMask	0x03 

#define Du8PGN_eJ1XGDetentPos			6     
#define Du8PGN_eJ1XGDetentBitPos		4     
#define Du8PGN_eJ1XGDetentBitMask	0x03  
                                 
#define Du8PGN_eJ1YGDetentPos			6     
#define Du8PGN_eJ1YGDetentBitPos		6     
#define Du8PGN_eJ1YGDetentBitMask	0x03  





//---------------------------------------------------------------------------- 
// HOURS-  Engine Hours, Revolutions                                                 
//---------------------------------------------------------------------------- 
//Vehicle Application Layer - J1939-71 (through December 2001) - p. 367
//Transmission Repetition Rate: On request
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 254
//PDU Specific: 229
//Default Priority: 6
//Parameter Group Number: 65253 ( 00FEE5 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1-4 4 bytes Total Engine Hours 247
//5-8 4 bytes Total Engine Revolutions 249
#define Du16PGN_eHOURS					0xFEE5
#define Du8PGN_eTotalHoursPos			0
#define Du8PGN_eTotalRevolutionPos	3



//---------------------------------------------------------------------------- 
// TD-  Time/Date                                                
//---------------------------------------------------------------------------- 
//Transmission Repetition Rate: On request
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 254
//PDU Specific: 230
//Default Priority: 6
//Parameter Group Number: 65254 ( 00FEE6 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1 1 byte Seconds 959
//2 1 byte Minutes 960
//3 1 byte Hours 961
//4 1 byte Month 963
//5 1 byte Day 962
//6 1 byte Year 964
//7 1 byte Local minute offset 1601
//8 1 byte Local hour offset 1602
#define Du16PGN_eTD						0xFEE6
#define Du8PGN_eSecondsPos				0
#define Du8PGN_eMinutesPos				1
#define Du8PGN_eHoursPos				2
#define Du8PGN_eMonthPos				3
#define Du8PGN_eDayPos					4
#define Du8PGN_eYearPos					5
#define Du8PGN_eLocMinOffsetPos		6
#define Du8PGN_eLocHourOffsetPos		7





//----------------------------------------------------------------------------
// VEP Vehicle electric power
//----------------------------------------------------------------------------
//Transmission Repetition Rate: 1 s
//Data Length: 8 bytes
//Data Page: 0
//PDU Format: 254
//PDU Specific: 247
//Default Priority: 6
//Parameter Group Number: 65271 ( 00FEF7 16 )
//Bit Start Position /Bytes Length SPN Description SPN
//1 1 byte Net Battery Current 114 ( +125 offset)
//2 1 byte Alternator Current 115
//3-4 2 bytes Alternator Potential (Voltage) 167
//5-6 2 bytes Electrical Potential (Voltage) 168
//7-8 2 bytes Battery Potential (Voltage), Switched 158
#define Du16PGN_eVEP						0xFEF7
                                 	
#define Du8PGN_eIBatPos					0
#define Du8PGN_eIAlternatorPos		1
#define Du8PGN_eVAlternatorPos		2
#define Du8PGN_eVBatPos					4
#define Du8PGN_eVBatSwitcedPos		6



#endif
